#!/bin/bash

# Deep Work Mode Toggle
DEEP_STATE_FILE="$HOME/.cache/cursor/deep_mode"

if [ -f "$DEEP_STATE_FILE" ]; then
    rm "$DEEP_STATE_FILE"
    notify-send "Deep Work Mode Disabled" "Regular workflow restored"
    # Re-enable notifications and restore normal system state
    dunstctl set-paused false
else
    mkdir -p "$(dirname "$DEEP_STATE_FILE")"
    touch "$DEEP_STATE_FILE"
    notify-send "Deep Work Mode Enabled" "Minimizing distractions"
    # Disable notifications and optimize system
    dunstctl set-paused true
    # Optional: Enable do-not-disturb mode if available
    if command -v dnd >/dev/null 2>&1; then
        dnd on
    fi
fi 